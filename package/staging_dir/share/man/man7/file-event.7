.TH file\-event 7 2013-03-11 upstart
.\"
.SH NAME
file \- event signalling that a file has changed
.\"
.SH SYNOPSIS
.B file
.BI FILE\fR= PATH
.BI EVENT\fR= TYPE
.IB \fR[ MATCH\fR= PATH \fR]
.\"
.SH DESCRIPTION

The
.B file
event is generated by the
.BR upstart\-file\-bridge (8)
daemon when a file whose details match the
file event condition and environment specified in a job's
.B start on
or
.B stop on
stanza is modified.

The
.BR FILE " and " EVENT
environment variables will be set to the same values as specified by the
job. Note that if the job did not specify
.B EVENT
this will still be set to one of
.BR create ", "
.BR modify " or "
.B delete
depending on what type of file event caused the event to be emitted.

If the job specified a glob pattern in the file part of the
.B FILE
environment variable, the event will contain the
.B MATCH
environment variable which will be set to the full path of the file that
matched the pattern in
.BR FILE "."
.\"
.SH NOTES

.IP \(bu 4
When specifying a path that contains spaces, ensure that the path is
quoted.
.\"
.IP \(bu
.B FILE
values specified by jobs are not canonicalised; this cannot be done reliably
as they may not exist so cannot be fully resolved.
.\"
.IP \(bu
If you wish to match on
.BR MATCH ", "
ensure that
.B FILE
does not contain multiple consecutive runs of slashes since otherwise
your job will find it difficult to perform such a match.
.\"
.SH EXAMPLES
.\"
.IP "start on file FILE=/run/app.pid EVENT=create" 0.4i
Event emitted when file is created.
.IP "start on file FILE=/run/app.pid"
Event emitted when file is created, modified or deleted.
.IP "start on file FILE=/var/log/"
Event emitted when files within a directory are created, modified or
deleted.
.IP "start on file FILE=/var/crash/*.crash EVENT=create"
Event emitted when files that match a glob pattern are created in the
indicated directory.
.IP "start on file FILE=""/this/path/contains whitespace.txt"""
Specify a file that contains a space character.
.\"
.SH AUTHOR
Written by James Hunt
.RB < james.hunt@canonical.com >
.\"
.SH BUGS
Report bugs at 
.RB < https://launchpad.net/upstart/+bugs >
.\"
.SH COPYRIGHT
Copyright \(co 2013 Canonical Ltd.
.PP
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
.\"
.SH SEE ALSO
.BR init (5)
.BR init (8)
.BR upstart\-file\-bridge (8)
